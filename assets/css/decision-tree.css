.decision-tree {
  --bg:#ffffff;
  --ink:#1f2937;
  --muted:#6b7280;
  --line:#d1d5db;
  --card:#f9fafb;
  --shadow:0 10px 25px rgba(0,0,0,0.08);

  --decision:#0f766e;
  --strategy:#2563eb;
  --outcome:#7c3aed;

  --focus:#111827;
}

.decision-tree .tree-wrap { max-width:1200px; margin:0 auto; padding:12px 0 18px; }

.decision-tree .tree-header{
  display:flex; gap:14px; align-items:flex-start; justify-content:space-between;
  flex-wrap:wrap; margin-bottom:12px;
}

.decision-tree .title{ display:flex; flex-direction:column; gap:4px; }
.decision-tree h3{ font-size:18px; margin:0; letter-spacing:0.2px; color:var(--ink); }

.decision-tree .controls{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }

.decision-tree .legend{
  display:flex; gap:10px; align-items:center;
  font-size:12px; color:var(--muted); flex-wrap:wrap;
}
.decision-tree .chip{
  display:inline-flex; gap:8px; align-items:center;
  padding:6px 8px; border:1px solid var(--line);
  border-radius:999px; background:var(--card);
}
.decision-tree .sq{
  width:12px; height:12px; border-radius:3px; display:inline-block;
  border:1px solid rgba(0,0,0,0.10);
}
.decision-tree .sq--decision{ background:var(--decision); }
.decision-tree .sq--strategy{ background:var(--strategy); }
.decision-tree .sq--outcome{ background:var(--outcome); }

.decision-tree .canvas{
  border:1px solid var(--line);
  border-radius:14px;
  background:linear-gradient(180deg,#ffffff 0%, #fbfbfc 100%);
  box-shadow:var(--shadow);
  overflow:hidden;
  position:relative;
  touch-action:none;
}

.decision-tree svg{ display:block; width:100%; height:720px; }

.decision-tree .link{
  fill:none;
  stroke:var(--line);
  stroke-width:2;
}

.decision-tree .node text{ font-size:12.5px; fill:var(--ink); }
.decision-tree .node .label{ dominant-baseline:middle; }
.decision-tree .node .meta{ font-size:11px; fill:var(--muted); }

.decision-tree .node .pill{
  fill:#fff;
  stroke:var(--line);
  stroke-width:1.2;
  rx:10; ry:10;
  filter: drop-shadow(0px 4px 10px rgba(0,0,0,0.06));
}

.decision-tree .focus-ring{ outline:none; }
.decision-tree .focus-ring:focus-visible .pill{ stroke:var(--focus); stroke-width:2; }

.decision-tree .cell{ font-size:11px; fill:var(--muted); }
.decision-tree .cellHead{ font-size:11px; fill:var(--muted); font-weight:700; }
.decision-tree .divider{ stroke:rgba(0,0,0,0.10); stroke-width:1; }
